#!/bin/sh

FULL_DATE=$(date +"%Y-%m-%d %T %z")
SHORT_DATE=$(date +"%Y-%m-%d")
TITLE="$@"

FILENAME="quotes/_posts/$SHORT_DATE-$(
echo "$@" | \
  tr -dc '[:alnum:]\n\r ' | \
  tr '[:upper:]' '[:lower:]' | \
  sed 's/ /-/g'
).md"

echo "---" >> "$FILENAME"
echo "layout: quote" >> "$FILENAME"
echo "date: $FULL_DATE" >> "$FILENAME"
echo "---" >> "$FILENAME"
echo >> $FILENAME

"$EDITOR" "$FILENAME"
